!function(t){function e(e){for(var r,c,i=e[0],u=e[1],s=e[2],f=0,d=[];f<i.length;f++)c=i[f],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&d.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);d.length;)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=c(c.s=n[0]))}return t}var r={},o={0:0},a=[];function c(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=r,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)c.d(n,r,function(e){return t[e]}.bind(null,r));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var s=0;s<i.length;s++)e(i[s]);var l=u;a.push([128,1]),n()}({127:function(t,e,n){"use strict";n.p},128:function(t,e,n){n(129),n(321),t.exports=n(317)},24:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return c}));var r=function(t,e){return Math.random()*(e-t)+t},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},a=function(){return"rgb(".concat(r(0,255),", ").concat(r(0,255),", ").concat(r(0,255),")")},c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=!1;return function(){n||(t.apply(this,arguments),n=!0,setTimeout((function(){return n=!1}),e))}}},316:function(t,e,n){},317:function(t,e,n){"use strict";n.r(e);n(127),n(126),n(124);var r=n(8),o=n.n(r),a=(n(318),n(320),n(46)),c=n(24);o()((function(t){var e="";o()(".search-panel .dropdown-menu").find("a").on("click",(function(t){t.preventDefault(),e=o()(this).attr("href").replace("#","");var n=o()(this).text();o()(".search-panel span#search-filter").text(n)}));var n=function(t){var n=o()(this).val();Object(a.c)(e,n).then((function(t){t&&o()("#table-container").html(t)})).then((function(){return i()}))};n=Object(c.a)(n),o()("#search-query").on("input",n);var r=function(t){var e=t.target,n=o()(e).data("sort-index"),r=1;1===o()(e).data("sort-order")&&(r=-1),-1===o()(e).data("sort-order")&&(r=0),Object(a.d)(n,r).then((function(t){t&&o()("#table-container").html(t)})).then((function(){return i()}))};function i(){o()("#users-table .table-head").on("click",r)}i()}))},320:function(t,e,n){},321:function(t,e,n){"use strict";n.r(e);n(124);var r=n(8),o=n.n(r),a=(n(126),n(316),n(127),n(24)),c=n(46);function i(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=t[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}(t,e)||d(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h,v,y,m,b,g,w,x,O,j=[15,50,100],E=[{points:3,scaleRatio:4},{points:2,scaleRatio:2},{points:1,scaleRatio:1}],P=window.document,k=!1,S=60,_=0,C=[320,240],R=[];function L(){k&&((S-=1)<0&&(S=0,O.text(_),x.modal("show"),x.on("hide.bs.modal",(function(){A(),w.textContent="Play",k=!1}))),y.textContent=S)}function T(){S=60,y.textContent=S}function I(){!function(){k&&(t=R.length)<4&&Array(4-t).fill(null).forEach((function(){R.push(function(){var t=[Object(a.c)(1e3/60,500),Object(a.c)(1e3,2e3)],e=t[0],n=t[1],r=Object(a.c)(0,100),o=j.findIndex((function(t){return r<=t})),c=E[o],i=c.points,u=c.scaleRatio,l={points:i,color:Object(a.d)(),scaleRatio:u,pos:B(u),delay:e,lifeTime:n},f=P.createElement("span");f.classList.add("dice__points"),f.textContent="+".concat(l.points);var d=P.createElement("div");return d.classList.add("dice","dice_appear"),Object.assign(d.style,{backgroundColor:l.color,left:"".concat(l.pos.x,"px"),top:"".concat(l.pos.y,"px"),width:"".concat(50/u,"px"),height:"".concat(50/u,"px"),animationPlayState:"running"}),d.appendChild(f),s(s({},l),{},{element:d})}())}));var t;R=R.filter((function(t){var e=t.element;if(!k)return e.style.animationPlayState="paused",!0;if(e.style.animationPlayState="running",h.contains(e)){if(t.lifeTime-=1e3/60,t.lifeTime<=0)return e.classList.add("dice_disappear"),e.addEventListener("animationend",(function t(n){e.remove(e),n.currentTarget.removeEventListener(n.type,t)})),!1}else t.delay-=1e3/60,t.delay<=0&&h.appendChild(e);return!0}))}()}function A(){k=!0,T(),_=0,m.textContent=0,h.innerHTML="",R=[],w.textContent="Pause"}function M(t){v.find(".alert-content").text(t.message),v.show()}var B=function(t){var e,n,r=50/t,o=!0,c=20;do{var i=f(C,2),u=i[0],s=i[1],l=[Object(a.c)(0,u-r),Object(a.c)(0,s-r)];e=l[0],n=l[1],o=R.some((function(t){var r=t.pos;return Object(a.b)(r,{x:e,y:n})<75}))}while(o&&--c);return{x:e,y:n}};function D(t){if(!t.classList.contains("dice_disappear")){var e=R.find((function(e){return e.element===t})).points;_+=e,m.textContent=_,t.style.backgroundColor="#ff0000",t.classList.add("dice_disappear"),t.firstElementChild.classList.add("dice__points_show")}}var q=function(){C=[h.clientWidth,h.clientHeight]};function H(t){var e,n=t.map((function(t){var e=t.name,n=t.score,r=P.createElement("tr"),o=P.createElement("td");o.textContent=e.length>16?"".concat(e.slice(0,16),"..."):e;var a=P.createElement("td");return a.textContent=n,r.append(o,a),r}));b.innerHTML="",(e=b).append.apply(e,i(n))}P.addEventListener("DOMContentLoaded",(function(){!function(){h=P.getElementById("stage"),y=P.getElementById("timer"),m=P.getElementById("score"),b=P.getElementById("score-table-body"),g=P.getElementById("replay-btn"),w=P.getElementById("toggle-game-btn"),x=o()("#modal-window"),O=x.find(".modal__score-value"),v=o()("#alert"),window.addEventListener("resize",q),q(),T(),m.textContent=_,g.addEventListener("click",A),w.addEventListener("click",(function(t){var e=t.currentTarget;e.textContent="Play"==e.textContent?"Pause":"Play",k=!k}));var t=f(C,2);h.style.width=t[0],h.style.height=t[1],h.addEventListener("click",(function(t){var e=t.target;e.classList.contains("dice")&&k&&D(e)})),Object(c.b)().then((function(t){return H(t)})).catch(M),x.modal({keyboard:!1,show:!1}),O.text(_),x.find(".modal__ok-btn").on("click",(function(){var t=x.find(".modal__input").val().trim(),e={name:t||"Anonymous",score:_};Object(c.a)(e).then((function(t){return H(t)})).catch(M),x.modal("hide")}))}(),setInterval(L,1e3),setInterval(I,1e3/60)}))},46:function(t,e,n){"use strict";function r(t,e,n,r,o,a,c){try{var i=t[a](c),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var c=t.apply(e,n);function i(t){r(c,o,a,i,u,"next",t)}function u(t){r(c,o,a,i,u,"throw",t)}i(void 0)}))}}n.d(e,"a",(function(){return p})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return y}));var a="http://localhost:9090/",c="text",i="json",u="POST",s="GET",l=function(){var t=o(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:return n=t.sent,r=new Error("".concat(e.status,": ").concat(n.error?n.error:"Something went wrong, result couln't be provided")),e.status>=400&&e.status<=599&&(r.originError=n),t.abrupt("return",Promise.reject(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=o(regeneratorRuntime.mark((function t(e){var n,r,o,a,f,d,p,h,v,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,r=e.method,o=void 0===r?s:r,a=e.payload,f=e.headers,d=e.format,p=void 0===d?i:d,h={method:o,headers:null!=f?f:{"Content-Type":"application/json;charset=utf-8"},body:o==u?JSON.stringify(a):null},t.prev=2,t.next=5,fetch(n,h);case 5:if((v=t.sent).redirected&&(window.location.href=v.url),v.ok){t.next=9;break}return t.abrupt("return",l(v));case 9:if(p!==i){t.next=11;break}return t.abrupt("return",v.json());case 11:if(p!==c){t.next=13;break}return t.abrupt("return",v.text());case 13:t.next=21;break;case 15:throw t.prev=15,t.t0=t.catch(2),console.error(t.t0),(y=new Error).status="No internet connection",y;case 21:case"end":return t.stop()}}),t,null,[[2,15]])})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=o(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.url,window.history.pushState(null,null,n),t.next=4,f({url:n,format:c,headers:{"X-Async-Request":"async/html"}});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=o(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(a).concat("scores/"),t.next=3,f({url:n,method:u,payload:e});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=o(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(a).concat("scores/"),t.next=3,f({url:e});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=o(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="?search=".concat(e,":").concat(n),o="".concat(a).concat("admin/").concat(r),t.next=4,d({url:o});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),y=function(){var t=o(regeneratorRuntime.mark((function t(e,n){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="?sort=".concat(e*n),o="".concat(a).concat("admin/").concat(r),t.next=4,d({url:o});case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}});